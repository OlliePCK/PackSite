(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();const s=document.querySelector("canvas#neuro"),S=Math.min(window.devicePixelRatio,2),a={x:0,y:0,tX:0,tY:0};let h;const d=L();R();v();window.addEventListener("resize",v);A();function L(){const c=document.getElementById("vertShader").textContent,o=document.getElementById("fragShader").textContent,e=s.getContext("webgl")||s.getContext("experimental-webgl");if(!e){alert("WebGL is not supported by your browser.");return}function l(t,f,m){const n=t.createShader(m);return t.shaderSource(n,f),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.error("An error occurred compiling the shaders: "+t.getShaderInfoLog(n)),t.deleteShader(n),null)}const r=l(e,c,e.VERTEX_SHADER),i=l(e,o,e.FRAGMENT_SHADER),u=y(e,r,i);h=P(u);function y(t,f,m){const n=t.createProgram();return t.attachShader(n,f),t.attachShader(n,m),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)?n:(console.error("Unable to initialize the shader program: "+t.getProgramInfoLog(n)),null)}function P(t){let f=[],m=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<m;n++){let p=e.getActiveUniform(t,n).name;f[p]=e.getUniformLocation(t,p)}return f}const E=new Float32Array([-1,-1,1,-1,-1,1,1,1]),g=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,g),e.bufferData(e.ARRAY_BUFFER,E,e.STATIC_DRAW),e.useProgram(u);const w=e.getAttribLocation(u,"a_position");return e.enableVertexAttribArray(w),e.bindBuffer(e.ARRAY_BUFFER,g),e.vertexAttribPointer(w,2,e.FLOAT,!1,0,0),e}function A(){const c=performance.now();a.x+=(a.tX-a.x)*.5,a.y+=(a.tY-a.y)*.5,d.uniform1f(h.u_time,c),d.uniform2f(h.u_pointer_position,a.x/window.innerWidth,1-a.y/window.innerHeight),d.uniform1f(h.u_scroll_progress,window.pageYOffset/(2*window.innerHeight)),d.drawArrays(d.TRIANGLE_STRIP,0,4),requestAnimationFrame(A)}function v(){s.width=window.innerWidth*S,s.height=window.innerHeight*S,d.uniform1f(h.u_ratio,s.width/s.height),d.viewport(0,0,s.width,s.height)}function R(){window.addEventListener("pointermove",o=>{c(o.clientX,o.clientY)}),window.addEventListener("touchmove",o=>{c(o.targetTouches[0].clientX,o.targetTouches[0].clientY)}),window.addEventListener("click",o=>{c(o.clientX,o.clientY)});function c(o,e){a.tX=o,a.tY=e}}
